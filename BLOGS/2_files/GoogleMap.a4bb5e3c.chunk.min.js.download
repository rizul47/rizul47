(("undefined"!=typeof self?self:this).webpackJsonp__wix_thunderbolt_elements=("undefined"!=typeof self?self:this).webpackJsonp__wix_thunderbolt_elements||[]).push([[170],{1214:function(e,n,t){e.exports=t.p+"b4f9c49a00780b3a8097e7114b529be7.html"},1215:function(e,n,t){e.exports=t.p+"google-map.min.js"},586:function(e,n,t){"use strict";t.r(n);var r=t(181),a=t(672),o=t.n(a),c=t(5),i=t(686),u=t(819);function l(){var e=r.useRef([]);return[r.useCallback((function(){return new Promise((function(n){return e.current.push(n)}))}),[]),r.useCallback((function(n){e.current.forEach((function(e){return e(n)})),e.current.length=0}),[])]}var s=function(e,n){if(e||n)return n?{path:e,fillColor:n,strokeColor:n,fillOpacity:1,scale:.5}:function(e){if(e&&e.endsWith(".webp"))try{var n=e.match(/media\/[^/]+/)[0].split(".")[1];e=e.replace(/.webp$/,"."+n)}catch(e){}return e}(e)},f="load",d="message",p="SET_INITIAL_LOCATIONS",g="SET_CENTER",_="CENTER_UPDATED",v="SET_CENTER_FINISHED",m="SET_ZOOM",b="ZOOM_UPDATED",E="SET_ZOOM_FINISHED",O="MARKER_CLICKED",M="MAP_CLICKED",C="GET_MARKERS",h="MARKERS";function j(e,n,t){var a,o,j=t.onUpdateZoom,S=t.onUpdateCenter,y=t.onMarkerClicked,k=t.onMapClicked,w=l(),N=w[0],L=w[1],R=l(),I=R[0],T=R[1],D=l(),G=D[0],x=D[1],U=Object(r.useState)(!1),A=U[0],J=U[1],K=Object(r.useMemo)((function(){return function(e){return Object(c.__assign)(Object(c.__assign)({},e),{locations:e.locations.map((function(e){return Object(c.__assign)(Object(c.__assign)({},e),{icon:s(e.pinIcon,e.pinColor)})}))})}(n)}),[n]),F=Object(u.a)(A?K:null),Z=((a={})[v]=function(){return L()},a[_]=function(e){return null==S?void 0:S(e)},a[E]=function(){return T()},a[b]=function(e){return null==j?void 0:j({zoom:e})},a[O]=function(e){return null==y?void 0:y(Object(c.__assign)({type:"markerClicked"},e))},a[M]=function(e){var n=e.longitude,t=e.latitude,r=Object(c.__rest)(e,["longitude","latitude"]);return null==k?void 0:k(Object(c.__assign)({type:"mapClicked",location:{longitude:n,latitude:t}},r))},a[h]=function(e){return x(e)},a),B=((o={})[f]=function(e){(0,e._sendMessage)({type:p,data:JSON.stringify(K)}),J(!0)},o[d]=function(e){var n,t=e.event;if("string"==typeof t.payload){var r=JSON.parse(t.payload),a=r.type,o=r.data;null===(n=Z[a])||void 0===n||n.call(Z,o)}},o),P=Object(i.a)({reducer:function(e,n){var t;return null===(t=B[e.type])||void 0===t?void 0:t.call(B,{event:e,_sendMessage:n})}}),W=P[0],H=P[1];return Object(r.useImperativeHandle)(e,(function(){return{setMapCenter:function(e,n){var t=N();return H({type:g,data:JSON.stringify({longitude:e,latitude:n})}),t},setMapZoom:function(e){var n=I();return H({type:m,data:e}),n},getVisibleMarkers:function(){var e=G();return H({type:C}),e}}})),Object(r.useEffect)((function(){if(A){var e=!!F&&(n=K.locations,t=F.locations,n.length===t.length&&n.every((function(e,n){var r=Object.keys(e);return r.length===Object.keys(t[n]).length&&r.every((function(r){return e[r]===t[n][r]}))})));H(JSON.stringify(Object(c.__assign)(Object(c.__assign)({},K),{shouldKeepMarkers:e})))}var n,t}),[K,F,H,A]),[W]}var S=t(963),y=t.n(S),k={GoogleMapLiftedShadow:function(){return r.createElement(r.Fragment,null,r.createElement("div",{className:o()(y.a.left,y.a.shd)}),r.createElement("div",{className:o()(y.a.right,y.a.shd)}))},GoogleMapSloppy:function(){return r.createElement(r.Fragment,null,r.createElement("div",{className:o()(y.a.brd,y.a.one)}),r.createElement("div",{className:o()(y.a.brd,y.a.two)}))},GoogleMapSkin:function(){return r.createElement(r.Fragment,null)},GoogleMapDefault:function(){return r.createElement(r.Fragment,null)}},w=t(1214),N=t.n(w),L=t(1215),R=t.n(L);n.default=r.forwardRef((function(e,n){var t=e.id,a=e.skin,c=e.urlQueries,i=e.mapData,u=e.translate,l=e.onUpdateCenter,s=e.onUpdateZoom,f=e.onMarkerClicked,d=e.onMapClicked,p=e.onMouseEnter,g=e.onMouseLeave,_=k[a],v=N.a+"?"+c+"&"+new URLSearchParams({googleMapsScriptUrl:R.a}),m=r.useState(!1),b=m[0],E=m[1],O=j(n,i,{onUpdateCenter:l,onUpdateZoom:s,onMarkerClicked:f,onMapClicked:d})[0];r.useEffect((function(){E(!0)}),[v]);var M=u("component_label","COMPONENT_LABEL_googleMapsTitle","Google Map");return r.createElement("div",{id:t,tabIndex:0,className:o()(y.a[a],y.a.wixIframe)},b&&r.createElement("wix-iframe",{title:M,"aria-label":M,"data-src":v},r.createElement(_,null),r.createElement("div",{id:"mapContainer_"+t,onMouseEnter:p,onMouseLeave:g,className:y.a.mapContainer},r.createElement("iframe",{ref:O,title:M,"aria-label":M,"data-src":v,width:"100%",height:"100%",frameBorder:"0",scrolling:"no",allowFullScreen:!0}))))}))},686:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r=t(181),a=t(673);function o(e){var n=e.reducer,t=void 0===n?function(){return{}}:n,o=e.iframeLoaded,c=Object(r.useRef)([]),i=Object(r.useRef)(void 0),u=Object(r.useRef)(void 0),l=Object(r.useRef)(void 0),s=Object(r.useCallback)((function(e){if(i.current&&o){var n=i.current.contentWindow;null==n||n.postMessage(e,"*")}else if(i.current&&u.current){var t=i.current.contentWindow;null==t||t.postMessage(e,"*")}else c.current.push(e)}),[o]),f=Object(r.useCallback)((function(){0!==c.current.length&&(c.current.forEach(s),c.current=[])}),[s]),d=Object(r.useCallback)((function(e){if(l.current&&(l.current(),l.current=void 0),e){var n=function(){u.current=!0,f(),t({type:"load"},s)};e.addEventListener("load",n),i.current=e,l.current=function(){e.removeEventListener("load",n)}}}),[t,s,f]);return Object(r.useEffect)((function(){o&&f()}),[o,f]),Object(r.useEffect)((function(){if(Object(a.b)()){var e=function(e){var n;e.source&&e.source!==(null===(n=i.current)||void 0===n?void 0:n.contentWindow)||t({type:"message",payload:e.data},s)};return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}}),[t,s]),[d,s]}},819:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(181);function a(e,n){void 0===n&&(n=null);var t=Object(r.useRef)(n);return Object(r.useEffect)((function(){t.current=e}),[e]),t.current}},963:function(e,n,t){e.exports={GoogleMapSkin:"_10n7_",googleMapSkin:"_10n7_",mapContainer:"ChpIS",GoogleMapDefault:"_3_sjC",googleMapDefault:"_3_sjC",GoogleMapSloppy:"_2SXNx",googleMapSloppy:"_2SXNx",brd:"_2GOJc",one:"_9g7zK",two:"_3BlEK",GoogleMapLiftedShadow:"_3Bc53",googleMapLiftedShadow:"_3Bc53",shd:"_3LqnE",left:"_27yfJ",right:"_2BpmR"}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements/dist/GoogleMap.a4bb5e3c.chunk.min.js.map